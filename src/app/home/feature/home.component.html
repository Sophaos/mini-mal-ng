<ng-container *ngIf="vmCarousels$ | async as vm">
  <!-- <div class="split-container">
    <div class="left-side">caca coucou</div>
    <div class="right-side">
      <div class="fade-effect"></div>
      <img
        src="https://cdn.myanimelist.net/images/anime/1792/138022l.jpg"
        alt="Anime Image"
      />
    </div>
  </div> -->
  <p-carousel
    [value]="vm.currentSeason"
    [numVisible]="1"
    [numScroll]="1"
    [circular]="false"
    [autoplayInterval]="8000"
    class="py-1"
  >
    <ng-template let-anime pTemplate="item">
      <div
        class="split-container flex justify-content-center align-items-center"
      >
        <div class="flex-1 px-4">
          <div class="text-3xl font-bold">{{ anime.title }}</div>
          <div class="text-lg font-light">{{ anime.title_english }}</div>
          <div class="flex-row flex-wrap flex-row my-2">
            <p-chip
              class="mx-1"
              *ngFor="let g of anime.genres"
              [label]="g.name"
            />
          </div>
          <div>{{ anime.synopsis }}</div>
        </div>
        <div class="flex-1 flex justify-content-end px-4">
          <!-- <div class="fade-effect"></div> -->
          <img
            class="sm:w-12 md:w-12 lg:w-12 xl:w-8 min-h-full"
            [src]="anime.image_large"
            alt="Anime Image"
          />
        </div>
      </div>
    </ng-template>
  </p-carousel>
  <app-media-carousel
    [data]="vm.currentSeason"
    title="Current Season"
    [link]="['/season', currentYear, currentSeason]"
  />
  <app-media-carousel
    [data]="vm.mangas"
    title="Mangas"
    [link]="['/season', currentYear, currentSeason]"
  />
  <app-media-carousel
    [data]="vm.recentEpisodes"
    title="Latest Updated Episode Videos"
  />
</ng-container>
<ng-container *ngIf="vm$ | async as vm">
  <app-reviews title="Latest Anime Review" [data]="vm.animeReviews" />
</ng-container>
