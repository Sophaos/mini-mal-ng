<div [routerLink]="'/animes'">All animes</div>
<div [routerLink]="'/mangas'">All mangas</div>
<ng-container *ngIf="vm$ | async as vm">
  <div>Current season</div>
  <div
    [routerLink]="'/season'"
    [queryParams]="{ year: currentYear, season: currentSeason }"
  >
    View more
  </div>
  <ng-container *ngIf="vm.currentSeason">
    <p-carousel
      [value]="vm.currentSeason"
      [numVisible]="7"
      [numScroll]="1"
      [circular]="false"
      [autoplayInterval]="3000"
      [showIndicators]="false"
    >
      <ng-template let-anime pTemplate="item">
        <app-media-card
          [image]="anime.images"
          [title]="anime.title"
          [routerLink]="['/animes', anime.mal_id]"
        />
      </ng-template>
    </p-carousel>
  </ng-container>

  <ng-container *ngIf="vm.recentEpisodes">
    <div>Latest Updated Episode Videos</div>
    <p-carousel
      [value]="vm.recentEpisodes"
      [numVisible]="8"
      [numScroll]="1"
      [circular]="false"
      [autoplayInterval]="3000"
      [showIndicators]="false"
    >
      <ng-template let-anime pTemplate="item">
        <app-media-card
          [image]="anime?.entry?.images?.jpg?.image_url"
          [title]="anime.entry.title"
          [routerLink]="['/animes', anime.entry.mal_id]"
        />
      </ng-template>
    </p-carousel>
  </ng-container>

  <div>Latest Anime Reviews</div>
  <div>View more</div>
  <ng-container *ngIf="vm.animeReviews" class="animes-container">
    <div class="card">
      <p-dataView #dv [value]="vm.animeReviews">
        <ng-template let-anime pTemplate="listItem">
          <app-review-row
            [text]="anime.review"
            [title]="anime.entry.title"
            [image]="anime.entry.images.jpg.image_url"
            [score]="anime.score"
          />
        </ng-template>
      </p-dataView>
    </div>
  </ng-container>
</ng-container>
